
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>3. Engine Software Description &#8212; Sec Lope De Vega Project 0.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css-style.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Engine Configuration" href="engine_conf.html" />
    <link rel="prev" title="2. Architecture" href="architecture.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="engine-software-description">
<span id="engine-description"></span><span id="index-0"></span><h1><span class="section-number">3. </span>Engine Software Description<a class="headerlink" href="#engine-software-description" title="Permalink to this heading">Â¶</a></h1>
<p>This component is the main orquestrator of <em>Lope</em>, we can say it is its heart. It controls all <strong>external connectors</strong> that are available in one <strong>engine</strong> execution.
Since a picture is worth a thousand words, the best to describe how the <strong>engine</strong> works is an image (you might need to zoom in to see the details):</p>
<a class="reference internal image-reference" href="../_images/slv-engine.png"><img alt="../_images/slv-engine.png" class="align-center" src="../_images/slv-engine.png" style="width: 1000px;" /></a>
<p>As you can see, the <strong>engine</strong> is using different threads to leverage the power of parallel computing. The main threads are the following ones:</p>
<ul class="simple">
<li><p><strong>Main thread (a.k.a. engine cockpit service)</strong>: This is the thread that controls the overall execution of this software piece.
It initializes the other relevant threads and the logical components, as well as starting the process for shutting down
(via <a class="reference external" href="https://en.wikipedia.org/wiki/Signal_(IPC)#SIGINT">interrupt signal</a> or timeout).</p></li>
<li><p><strong>External Connection Manager Service</strong>: This service is the one that oversees the interaction with <strong>external connectors</strong>, and listens the <a class="reference external" href="https://zeromq.org/">ZeroMQ</a> socket of the <strong>engine</strong>.</p></li>
<li><p><strong>External Connection Workers</strong>: These threads are used to process the messages received from the <strong>external connectors</strong> to avoid blocking the <em>external connection manager service</em> for processing
received messages and activities created by the <strong>external connectors</strong>. Every message received create a new <em>external connection worker</em>,
except the <em>ping</em> message that is replied by the <em>external connection manager service</em> directly. Additionally, one worker is created at the time of stopping the execution,
as can be seen in the previous image. It orchestrates how the <strong>external connectors</strong> stop and send the last information they have,
avoiding losing information.</p></li>
<li><p><strong>Alerting Service</strong>: This thread is the one that sends the activities created by <em>Lope</em> to the different systems available, and it manages the respective connection with them</p></li>
<li><p><strong>Data Service</strong>: This thread is the main one to storage the activities created by <em>Lope</em> and save them in the database, a simple file, or both.</p></li>
</ul>
<p>Activities, or external activities, are described in detail in <a class="reference internal" href="activities.html#activities"><span class="std std-ref">Activity Alerting &amp; Storage</span></a>, but here we can simply say that any action that the <em>Lope</em> does,
any interaction with the target systems, is considered an activity. <strong>External connectors</strong> start and stop events are considered actions too,
as well as the <strong>engine</strong> start and stop. Any activity is sent to the corresponding service to be stored or sent as an alert.</p>
<p>A minor comment about the communcation between <strong>engine</strong> threads for those that might be interested, they are implemented using <a class="reference external" href="https://gobyexample.com/channels">go channels</a>.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/slv_logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Sec Lope De Vega Project</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">2. Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Engine Software Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_conf.html">4. Engine Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_install.html">5. Engine Installation &amp; Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_desc.html">6. External Connector Software Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_conf.html">7. External Connector Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_install.html">8. External Connector Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversation_rules.html">9. Conversation Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">10. Memory Variables &amp; Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="advance_conversation_rules.html">11. Advance Conversation Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="activities.html">12. Activity Alerting &amp; Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_protocol.html">13. Example Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">14. Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">15. Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="architecture.html" title="previous chapter"><span class="section-number">2. </span>Architecture</a></li>
      <li>Next: <a href="engine_conf.html" title="next chapter"><span class="section-number">4. </span>Engine Configuration</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy;2022, Sec Lope De Vega Project.
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
        ,<a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
        &amp; <a href="https://www.1001fonts.com/caslon-antique-font.html">Caslon Antique Font</a>
        
        |
        <a href="../_sources/content/engine_desc.rst.txt"
            rel="nofollow">Page source</a>
    </div>
  </body>
</html>