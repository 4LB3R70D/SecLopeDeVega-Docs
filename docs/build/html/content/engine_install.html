
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>5. Engine Installation &amp; Execution &#8212; Sec Lope De Vega</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css-style.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. External Connector Software Description" href="ext-conn_desc.html" />
    <link rel="prev" title="4. Engine Configuration" href="engine_conf.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="engine-installation-execution">
<span id="engine-installation"></span><span id="index-0"></span><h1><span class="section-number">5. </span>Engine Installation &amp; Execution<a class="headerlink" href="#engine-installation-execution" title="Permalink to this heading">¶</a></h1>
<p>For intallting the <strong>engine</strong>, there are two options:</p>
<ul class="simple">
<li><p>One is using the compiled version provided in the project under the <em>‘bin’</em> folder of the  <a class="reference external" href="https://github.com/4LB3R70D/SecLopeDeVega-Engine">engine repository</a>.
This is ready to run in <strong>linux</strong> operating systems for AMD64 cpu architecture.</p></li>
<li><p>Or compiling the source code. This option is better if you want to run it in a different operating system (OS) or cpu architecture.
To do so, you should be aware that one of the libraries of this project (‘zeromq/goczmq’) is a wrapper of a C library,
so you have to have a C compiler for the operating system (OS) and cpu architecture installed too.</p></li>
</ul>
<section id="compiling-the-project">
<span id="index-1"></span><h2><span class="section-number">5.1. </span>Compiling the Project<a class="headerlink" href="#compiling-the-project" title="Permalink to this heading">¶</a></h2>
<p>If you want to compile the project, the first thing you need is to install <a class="reference external" href="https://go.dev/doc/install">GO</a>.
As mentioned in the previous paragraph, you will need the C compiler in place for the OS and cpu architecture.
<strong>Go</strong> allows compiling the project for several different architectures and operating systems,
but the mentioned library can do the things a bit harder (especially when you compile the project for a different OS and CPU architecture of your machine).
If you have a message error like this at building time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">build</span> <span class="n">constraints</span> <span class="n">exclude</span> <span class="nb">all</span> <span class="n">Go</span> <span class="n">files</span> <span class="ow">in</span> <span class="o">../</span><span class="n">go</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="n">mod</span><span class="o">/</span><span class="n">gopkg</span><span class="o">.</span><span class="ow">in</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">goczmq</span><span class="o">.</span><span class="n">v4</span><span class="nd">@v4</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">X</span>
</pre></div>
</div>
<p>the cause may be the lack of the right C compiler in place.</p>
<p>For compiling the project, this <a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-build-go-executables-for-multiple-platforms-on-ubuntu-16-04">tutorial</a> can be of interest to you,
but for this project you can do just the following (provided you are in the root folder of the project):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">go</span> <span class="n">build</span> <span class="o">-</span><span class="n">o</span> <span class="p">{{</span><span class="n">the</span> <span class="n">place</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">put</span> <span class="n">the</span> <span class="n">executable</span> <span class="n">file</span><span class="p">}}</span> <span class="n">cmd</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">go</span>
</pre></div>
</div>
<p>or just <code class="docutils literal notranslate"><span class="pre">make</span></code> (or <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build</span></code>)</p>
<p>For compiling to a different target system, you should check the following links:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://stackoverflow.com/questions/61515186/when-using-cgo-enabled-is-must-and-what-happens">When using CGO_ENABLED is must and what happens</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/golang/go/issues/16801">CGO_ENABLED=1 causing the ‘-marm’ unrecognized #16801</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/golang/go/issues/24068">cmd/go: give a better error message when building Go package with CGO_ENABLED=0</a>.</p></li>
</ul>
<p>But in general, you should take into account that you might need to specify the flags <code class="docutils literal notranslate"><span class="pre">CC</span></code>, <code class="docutils literal notranslate"><span class="pre">CXX</span></code>, and <code class="docutils literal notranslate"><span class="pre">CGO_ENABLED=&quot;1&quot;</span></code>;
apart from the <code class="docutils literal notranslate"><span class="pre">GOOS</span></code> and <code class="docutils literal notranslate"><span class="pre">GOARCH</span></code> as described in the tutorial cited previously.</p>
</section>
<section id="location-of-configuration-files">
<span id="index-2"></span><h2><span class="section-number">5.2. </span>Location of Configuration Files<a class="headerlink" href="#location-of-configuration-files" title="Permalink to this heading">¶</a></h2>
<p>The main configuration file for the <strong>engine</strong> is the <em>engine_config.yml</em>, and by default the engine tries to get it from <code class="docutils literal notranslate"><span class="pre">./config</span></code> (config folder in the folder where the executable file is located).
However, this can be changed using some command line options, as we are going to see in the next section.</p>
<p>The <em>conversation rules</em> folder location is described in that configuration file, so it is up to you. This topic is described in detail in <a class="reference internal" href="conversation_rules.html#conversation-rules"><span class="std std-ref">Conversation Rules</span></a></p>
<p>If you import this project in an IDE, the <strong>engine</strong> tries to get the configuration file from the config folder of the project.
This is only possible if the <code class="docutils literal notranslate"><span class="pre">env</span> <span class="pre">(environment)</span></code> command line option is defined as <code class="docutils literal notranslate"><span class="pre">DEV</span></code>.</p>
</section>
<section id="launch-engine-and-command-line-options">
<span id="index-3"></span><h2><span class="section-number">5.3. </span>Launch Engine and Command Line Options<a class="headerlink" href="#launch-engine-and-command-line-options" title="Permalink to this heading">¶</a></h2>
<p>As mentioned, the <strong>engine</strong> can use <a class="reference external" href="https://en.wikipedia.org/wiki/Command-line_interface#Command-line_option">command line flags</a> to start.
The three command line optines are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-env</span></code> (environment): It tells the <strong>engine</strong> if the it is running in an IDE ( <code class="docutils literal notranslate"><span class="pre">DEV</span></code>) or not.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-nobanner</span></code> (no banner): If present, the banner will not be printed at the beginning of the execution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-config</span></code> (config): If present, it change the default location of the configuration file <em>engine_config.yml</em>.
If this is provided, the <code class="docutils literal notranslate"><span class="pre">env</span></code> option will not be used. You can use a different name for that configuration file instead of the default one,
since the path is not the location (folder) of the file, is directly the file to be used as configuration file <strong>(but always a .yml file)</strong>.</p></li>
</ul>
<p>The default and the alternative values are defined in the following table:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command Line Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Alternative values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">env</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PRO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DEV</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nobanner</span></code></p></td>
<td><p>(not present)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nobanner</span></code> (present)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">config</span></code></p></td>
<td><p>(not present)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/path/to/the/configuration/file/configuration_file_name.yml</span></code></p></td>
</tr>
</tbody>
</table>
<p>To start the execution of the <strong>engine</strong>, there are two options:</p>
<ul>
<li><p>If the software is not compiled, you can compile and run it by doing <code class="docutils literal notranslate"><span class="pre">go</span> <span class="pre">run</span> <span class="pre">cmd/main.go</span></code> or just <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code>
(provided that you have the environment ready for compilation as described in the previous section)</p></li>
<li><p>If the software is compiled, just run it as any executable. An example using the already compile version in linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">slv_engine_linux_amd64</span>
</pre></div>
</div>
<p>or using the command line options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">slv_engine_linux_amd64</span> <span class="o">-</span><span class="n">config</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">alber</span><span class="o">/</span><span class="n">SecLopeDeVega</span><span class="o">/</span><span class="n">engine</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">engine_config</span><span class="o">.</span><span class="n">yml</span> <span class="o">-</span><span class="n">nobanner</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="database-setup">
<span id="index-4"></span><h2><span class="section-number">5.4. </span>Database Setup<a class="headerlink" href="#database-setup" title="Permalink to this heading">¶</a></h2>
<p>The schema of the database to be used is already provided in the <em>db</em> folder in the  <a class="reference external" href="https://github.com/4LB3R70D/SecLopeDeVega-Engine">repository</a>.
If you do not know how to import it in your project, check this <a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-import-and-export-databases-in-mysql-or-mariadb">guide</a>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/slv_logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Sec Lope De Vega Project</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">2. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_desc.html">3. Engine Software Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_conf.html">4. Engine Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Engine Installation &amp; Execution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiling-the-project">5.1. Compiling the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#location-of-configuration-files">5.2. Location of Configuration Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launch-engine-and-command-line-options">5.3. Launch Engine and Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-setup">5.4. Database Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_desc.html">6. External Connector Software Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_conf.html">7. External Connector Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext-conn_install.html">8. External Connector Installation &amp; Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversation_rules.html">9. Conversation Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="session_and_memory.html">10. Session Support &amp; Memory Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory_ops.html">11. Memory Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_functions.html">12. Custom Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="advance_conversation_rules.html">13. Advance Conversation Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="activities.html">14. Activity Alerting &amp; Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_protocol.html">15. Example Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">16. Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">17. Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="engine_conf.html" title="previous chapter"><span class="section-number">4. </span>Engine Configuration</a></li>
      <li>Next: <a href="ext-conn_desc.html" title="next chapter"><span class="section-number">6. </span>External Connector Software Description</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy;2022, Sec Lope De Vega Project.
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
        ,<a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
        &amp; <a href="https://www.1001fonts.com/caslon-antique-font.html">Caslon Antique Font</a>
        
        |
        <a href="../_sources/content/engine_install.rst.txt"
            rel="nofollow">Page source</a>
    </div>
  </body>
</html>